(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={overlay:"Modal_overlay__DBVij",modal:"Modal_modal__1sHKW"}},12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__nqz1B",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__JjLf2"}},17:function(e,t,a){e.exports={button:"Button_button__26XmD"}},18:function(e,t,a){e.exports={title:"Title_title__KGbtu"}},19:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2gALl"}},27:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__38JhN",searchForm:"Searchbar_searchForm__3pmAG",searchFormButton:"Searchbar_searchFormButton__1zzn3",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__1K5lM",searchFormInput:"Searchbar_searchFormInput__3tddd"}},51:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(3),s=a.n(o),i=(a(27),a(8)),l=a(13),u=a(4),m=a(14),j=a(15),b=a(21),h=a(20),d=a(16),g=a.n(d),O=(a(49),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)(g.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}}]),a}(n.Component)),f=a(11),p=a.n(f),x=document.querySelector("#modal-root");function _(e){var t=e.onClose,a=e.largeImageURL,c=e.tags;Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:p.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:p.a.modal,children:Object(r.jsx)("img",{src:a,alt:c})})}),x)}var v=a(12),y=a.n(v);function w(e){var t=e.webformatURL,a=e.tags,c=e.largeImageURL,o=Object(n.useState)(!1),s=Object(u.a)(o,2),i=s[0],l=s[1],m=function(){l(!i)};return Object(r.jsxs)("li",{className:y.a.imageGalleryItem,children:[Object(r.jsx)("img",{className:y.a.imageGalleryItemImage,onClick:m,src:t,alt:a}),i&&Object(r.jsx)(_,{onClose:m,largeImageURL:c,tags:a})]})}var I=a.p+"static/media/error.82aec352.jpg",S=a(9),F=a.n(S);function L(e){var t=e.message;return Object(r.jsxs)("div",{role:"alert",className:F.a.wrapper,children:[Object(r.jsx)("img",{src:I,width:"500",alt:"Error",className:F.a.errorImg}),Object(r.jsx)("p",{className:F.a.text,children:t})]})}a(50);var N=a(5),G=a.n(N);function k(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],s=c[1];return Object(r.jsx)("header",{className:G.a.searchbar,children:Object(r.jsxs)("form",{className:G.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return i.b.error("Please enter some value");t(o),s("")},children:[Object(r.jsx)("button",{type:"submit",className:G.a.searchFormButton,children:Object(r.jsx)("span",{className:G.a.searchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:G.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){s(e.currentTarget.value.toLowerCase())}})]})})}var B=a(17),E=a.n(B);function C(e){var t=e.onLoadMore;return Object(r.jsx)("button",{type:"button",className:E.a.button,onClick:t,children:"Load more"})}var U=function(e){var t=e.searchQuery,a=void 0===t?"":t,r=e.currentPage,n=void 0===r?1:r;return fetch("https://pixabay.com/api/?q=".concat(a,"&page=").concat(n,"&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong"))}))},R=a(18),M=a.n(R);function P(e){var t=e.title;return Object(r.jsx)("h2",{className:M.a.title,children:t})}var T=a(19),z=a.n(T),D="idle",J="pending",V="resolved",q="rejected";function K(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),s=Object(u.a)(o,2),i=s[0],m=s[1],j=Object(n.useState)(""),b=Object(u.a)(j,2),h=b[0],d=b[1],g=Object(n.useState)(null),f=Object(u.a)(g,2),p=(f[0],f[1]),x=Object(n.useState)(D),_=Object(u.a)(x,2),v=_[0],y=_[1];Object(n.useEffect)((function(){console.log("\u041f\u0435\u0440\u0448\u0438\u0439 \u0440\u0435\u043d\u0434\u0435\u0440"),h&&(y(J),U({searchQuery:h,currentPage:i}).then((function(e){c((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))})),y(V)})).catch((function(e){p(e),y(q)})))}),[h,i]);var I=function(e){d(e),m(1),c([]),p(null)},S=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)};return v===D?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{onSubmit:I}),Object(r.jsx)(P,{title:"Find the best pictures you've ever seen"})]}):v===J?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{onSubmit:I}),Object(r.jsx)(O,{})]}):v===q||0===a.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{onSubmit:I}),Object(r.jsx)(L,{message:"Cannot find any results of ".concat(h,", please, change the search text ")})]}):v===V?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{onSubmit:I}),Object(r.jsx)("ul",{className:z.a.imageGallery,children:a.map((function(e){var t=e.id,a=e.webformatURL,n=e.tags,c=e.largeImageURL;return Object(r.jsx)(w,{webformatURL:a,tags:n,largeImageURL:c},t)}))}),a.length>0&&Object(r.jsx)(C,{onLoadMore:function(){m(i+1),S()}})]}):void 0}function Q(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.a,{autoClose:3e3}),Object(r.jsx)(K,{})]})}s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Q,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={wrapper:"ErrorView_wrapper__1iNgc",text:"ErrorView_text__2UmFY",errorImg:"ErrorView_errorImg__QY90M"}}},[[51,1,2]]]);
//# sourceMappingURL=main.cc13b8e7.chunk.js.map