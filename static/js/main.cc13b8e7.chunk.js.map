{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Title/Title.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Searchbar/Searchbar.module.css","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ErrorView/error.jpg","Components/ErrorView/ErrorView.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","services/images-api.js","Components/Title/Title.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/ErrorView/ErrorView.module.css"],"names":["module","exports","LoaderComponent","type","color","height","width","Component","modalRoot","document","querySelector","Modal","onClose","largeImageURL","tags","useEffect","window","addEventListener","handleEscKeydown","removeEventListener","e","code","createPortal","className","s","overlay","onClick","currentTarget","target","modal","src","alt","ImageGalleryItem","webformatURL","useState","showModal","setShowModal","toggleModal","imageGalleryItem","imageGalleryItemImage","ErrorView","message","role","wrapper","errorImg","text","Searchbar","onSubmit","query","setQuery","searchbar","searchForm","preventDefault","trim","toast","error","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","Button","onLoadMore","button","searchQuery","currentPage","fetch","then","response","ok","json","Promise","reject","Error","Title","title","Status","ImageGallery","images","setImages","setCurrentPage","setSearchQuery","setError","status","setStatus","console","log","imagesAPI","prevImages","hits","catch","onChangeQuery","scrollPage","setTimeout","scrollBy","top","documentElement","scrollHeight","behavior","length","imageGallery","map","id","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cc13b8e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__DBVij\",\"modal\":\"Modal_modal__1sHKW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__nqz1B\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__JjLf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__26XmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__KGbtu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2gALl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__38JhN\",\"searchForm\":\"Searchbar_searchForm__3pmAG\",\"searchFormButton\":\"Searchbar_searchFormButton__1zzn3\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1K5lM\",\"searchFormInput\":\"Searchbar_searchFormInput__3tddd\"};","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default class LoaderComponent extends Component {\r\n  //other logic\r\n  render() {\r\n    return <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />;\r\n  }\r\n}\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, largeImageURL, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleEscKeydown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEscKeydown);\r\n    };\r\n  });\r\n\r\n  const handleEscKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\n// export default class Modal extends Component {\r\n//   static propTypes = {\r\n//     largeImageURL: PropTypes.string.isRequired,\r\n//     tags: PropTypes.string.isRequired,\r\n//   };\r\n\r\n//   componentDidMount() {\r\n//     window.addEventListener('keydown', this.handleEscKeydown);\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener('keydown', this.handleEscKeydown);\r\n//   }\r\n\r\n//   handleEscKeydown = e => {\r\n//     if (e.code === 'Escape') {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n\r\n//   handleBackdropClick = e => {\r\n//     if (e.currentTarget === e.target) {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n\r\n//   render() {\r\n//     const { largeImageURL, tags } = this.props;\r\n\r\n//     return createPortal(\r\n//       <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n//         <div className={s.modal}>\r\n//           <img src={largeImageURL} alt={tags} />\r\n//         </div>\r\n//       </div>,\r\n//       modalRoot,\r\n//     );\r\n//   }\r\n// }\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        className={s.imageGalleryItemImage}\r\n        onClick={toggleModal}\r\n        src={webformatURL}\r\n        alt={tags}\r\n      />\r\n      {showModal && (\r\n        <Modal\r\n          onClose={toggleModal}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/error.82aec352.jpg\";","import errorImg from './error.jpg';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ErrorView.module.css';\r\n\r\nexport default function ErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\" className={s.wrapper}>\r\n      <img src={errorImg} width=\"500\" alt=\"Error\" className={s.errorImg} />\r\n      <p className={s.text}>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nErrorView.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleNameChange = e => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return toast.error('Please enter some value');\r\n    }\r\n\r\n    onSubmit(query);\r\n\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleNameChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n","const fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Something went wrong'));\r\n  });\r\n};\r\n\r\nexport default { fetchImages };\r\n","import s from './Title.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Title({ title }) {\r\n  return <h2 className={s.title}>{title}</h2>;\r\n}\r\n\r\nTitle.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport LoaderComponent from '../Loader/Loader';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport ErrorView from '../ErrorView/ErrorView';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport Button from '../Button/Button';\r\nimport imagesAPI from '../../services/images-api';\r\nimport Title from '../Title/Title';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default function ImageGallery() {\r\n  const [images, setImages] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    console.log('Перший рендер');\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n    setStatus(Status.PENDING);\r\n\r\n    imagesAPI\r\n      .fetchImages({ searchQuery, currentPage })\r\n      .then(images => {\r\n        setImages(prevImages => [...prevImages, ...images.hits]);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [searchQuery, currentPage]);\r\n\r\n  const onChangeQuery = query => {\r\n    setSearchQuery(query);\r\n    setCurrentPage(1);\r\n    setImages([]);\r\n    setError(null);\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    setCurrentPage(currentPage + 1);\r\n    scrollPage();\r\n  };\r\n\r\n  const scrollPage = () => {\r\n    setTimeout(() => {\r\n      window.scrollBy({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={onChangeQuery} />\r\n        <Title title=\"Find the best pictures you've ever seen\" />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (status === Status.PENDING) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={onChangeQuery} />\r\n        <LoaderComponent />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (status === Status.REJECTED || images.length === 0) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={onChangeQuery} />\r\n        <ErrorView\r\n          message={`Cannot find any results of ${searchQuery}, please, change the search text `}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={onChangeQuery} />\r\n        <ul className={s.imageGallery}>\r\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              tags={tags}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {images.length > 0 && <Button onLoadMore={onLoadMore} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","// import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\nexport default function App() {\n  return (\n    <div>\n      <ToastContainer autoClose={3000} />\n      <ImageGallery />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorView_wrapper__1iNgc\",\"text\":\"ErrorView_text__2UmFY\",\"errorImg\":\"ErrorView_errorImg__QY90M\"};"],"sourceRoot":""}