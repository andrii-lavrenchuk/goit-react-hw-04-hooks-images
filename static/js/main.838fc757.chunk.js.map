{"version":3,"sources":["Components/ErrorView/ErrorView.module.css","Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Title/Title.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ErrorView/error.jpg","Components/ErrorView/ErrorView.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","services/images-api.js","Components/Title/Title.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","LoaderComponent","type","color","height","width","Component","modalRoot","document","querySelector","Modal","handleEscKeydown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImageURL","tags","createPortal","className","s","overlay","onClick","modal","src","alt","ImageGalleryItem","state","showModal","toggleModal","setState","onOpenModal","dataset","source","webformatURL","imageGalleryItem","imageGalleryItemImage","ErrorView","message","role","wrapper","errorImg","text","Searchbar","query","handleNameChange","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","onSubmit","searchbar","searchForm","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Button","onLoadMore","button","searchQuery","currentPage","fetch","then","response","ok","json","Promise","reject","Error","Title","title","ImageGallery","images","status","onChangeQuery","fetchImages","options","isLoading","imagesAPI","prevState","hits","catch","setTimeout","scrollBy","top","documentElement","scrollHeight","behavior","prevProps","length","imageGallery","map","id","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.838fc757.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorView_wrapper__1iNgc\",\"text\":\"ErrorView_text__2UmFY\",\"errorImg\":\"ErrorView_errorImg__QY90M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__DBVij\",\"modal\":\"Modal_modal__1sHKW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__nqz1B\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__JjLf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__26XmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__KGbtu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2gALl\"};","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default class LoaderComponent extends Component {\r\n  //other logic\r\n  render() {\r\n    return <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />;\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscKeydown);\r\n  }\r\n\r\n  handleEscKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onOpenModal = e => {\r\n    this.setState({ largeImageURL: e.target.dataset.source });\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, tags, largeImageURL } = this.props;\r\n    const { showModal } = this.state;\r\n\r\n    return (\r\n      <li className={s.imageGalleryItem}>\r\n        <img\r\n          className={s.imageGalleryItemImage}\r\n          onClick={this.toggleModal}\r\n          src={webformatURL}\r\n          alt={tags}\r\n        />\r\n        {showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            largeImageURL={largeImageURL}\r\n            tags={tags}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/error.82aec352.jpg\";","import errorImg from './error.jpg';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ErrorView.module.css';\r\n\r\nexport default function ErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\" className={s.wrapper}>\r\n      <img src={errorImg} width=\"500\" alt=\"Error\" className={s.errorImg} />\r\n      <p className={s.text}>{message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nErrorView.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleNameChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      return toast.error('Please enter some value');\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n","const fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Something went wrong'));\r\n  });\r\n};\r\n\r\nexport default { fetchImages };\r\n","import s from './Title.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Title({ title }) {\r\n  return <h2 className={s.title}>{title}</h2>;\r\n}\r\n\r\nTitle.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import { Component } from 'react';\r\n\r\nimport LoaderComponent from '../Loader/Loader';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport ErrorView from '../ErrorView/ErrorView';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport Button from '../Button/Button';\r\nimport imagesAPI from '../../services/images-api';\r\nimport Title from '../Title/Title';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    error: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.setState({ status: 'pending' });\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n\r\n    const options = { searchQuery, currentPage };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    imagesAPI\r\n      .fetchImages(options)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images.hits],\r\n          currentPage: prevState.currentPage + 1,\r\n          status: 'resolved',\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error, status: 'rejected' }));\r\n\r\n    setTimeout(() => {\r\n      window.scrollBy({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  render() {\r\n    const { images, searchQuery, status } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.onChangeQuery} />\r\n          <Title title=\"Find the best pictures you've ever seen\" />\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.onChangeQuery} />\r\n          <LoaderComponent />\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (status === 'rejected' || images.length === 0) {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.onChangeQuery} />\r\n          <ErrorView\r\n            message={`Cannot find any results of ${searchQuery}, please, change the search text `}\r\n          />\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <Searchbar onSubmit={this.onChangeQuery} />\r\n          <ul className={s.imageGallery}>\r\n            {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n              <ImageGalleryItem\r\n                key={id}\r\n                webformatURL={webformatURL}\r\n                tags={tags}\r\n                largeImageURL={largeImageURL}\r\n              />\r\n            ))}\r\n          </ul>\r\n          {images.length > 0 && <Button onLoadMore={this.fetchImages} />}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <ToastContainer autoClose={3000} />\n        <ImageGallery />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__38JhN\",\"searchForm\":\"Searchbar_searchForm__3pmAG\",\"searchFormButton\":\"Searchbar_searchFormButton__1zzn3\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1K5lM\",\"searchFormInput\":\"Searchbar_searchFormInput__3tddd\"};"],"sourceRoot":""}